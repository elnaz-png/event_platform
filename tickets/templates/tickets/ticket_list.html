{% extends 'base.html' %}

{% block title %}Ø¨Ù„ÛŒØ·â€ŒÙ‡Ø§ÛŒ Ù…Ù†{% endblock %}

{% block content %}
    <h1>ğŸŸï¸ Ø¨Ù„ÛŒØ·â€ŒÙ‡Ø§ÛŒ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ø´Ø¯Ù‡ Ù…Ù†</h1>
    <hr>

    {% if tickets %}
        <div style="display: grid; gap: 20px;">
            {% for ticket in tickets %}
                <div style="border: 1px solid #ddd; padding: 20px; border-radius: 8px; background-color: #fff; border-right: 5px solid #007bff;">
                    
                    <div style="display: flex; justify-content: space-between;">
                        <h2 style="margin: 0;">{{ ticket.event.title }}</h2>
                        <span style="background: #eee; padding: 5px 10px; border-radius: 4px; font-family: monospace;">
                            Ú©Ø¯ Ø¨Ù„ÛŒØ·: {{ ticket.ticket_code }}
                        </span>
                    </div>

                    <p style="color: #555; margin-top: 10px;">
                        â° <strong>Ø²Ù…Ø§Ù† Ø±ÙˆÛŒØ¯Ø§Ø¯:</strong> {{ ticket.event.event_time|date:"Y/m/d H:i" }}
                    </p>
                    
                    <p>
                        ğŸ“ <strong>Ù…Ú©Ø§Ù†:</strong> {{ ticket.event.location }}
                    </p>

                    <div style="margin-top: 15px; padding-top: 10px; border-top: 1px dashed #ccc; display: flex; justify-content: space-between;">
                        <span>ğŸ‘¤ ØªØ¹Ø¯Ø§Ø¯ Ù†ÙØ±Ø§Øª: <strong>{{ ticket.quantity }}</strong></span>
                        <span>ğŸ’° Ù…Ø¨Ù„Øº Ù¾Ø±Ø¯Ø§Ø®Øª Ø´Ø¯Ù‡: <strong>{{ ticket.final_price }} ØªÙˆÙ…Ø§Ù†</strong></span>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div style="text-align: center; padding: 50px;">
            <p>Ø´Ù…Ø§ Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† Ø¨Ù„ÛŒØ·ÛŒ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯.</p>
            <a href="{% url 'events:list' %}" style="background-color: green; color: white; padding: 10px 20px; border-radius: 5px;">
                Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ùˆ Ø®Ø±ÛŒØ¯ Ø¨Ù„ÛŒØ·
            </a>
        </div>
    {% endif %}
{% endblock %}